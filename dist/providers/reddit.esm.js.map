{"version":3,"file":"reddit.esm.js","sources":["../../src/providers/reddit.ts"],"sourcesContent":["import { OAuth2Provider } from \"./oauth2\";\nconst redditProfileHandler = ({ is_employee, has_external_account, snoovatar_img, verified, id, over_18, is_gold, is_mod, awarder_karma, has_verified_email, is_suspended, icon_img, pref_nightmode, awardee_karma, password_set, link_karma, total_karma, name, created, created_utc, comment_karma, }) => ({\n    is_employee,\n    has_external_account,\n    snoovatar_img,\n    verified,\n    id,\n    over_18,\n    is_gold,\n    is_mod,\n    awarder_karma,\n    has_verified_email,\n    is_suspended,\n    icon_img,\n    pref_nightmode,\n    awardee_karma,\n    password_set,\n    link_karma,\n    total_karma,\n    name,\n    created,\n    created_utc,\n    comment_karma,\n});\nconst defaultConfig = {\n    id: \"reddit\",\n    scope: \"identity\",\n    profile: redditProfileHandler,\n    authorizationUrl: \"https://www.reddit.com/api/v1/authorize\",\n    accessTokenUrl: \"https://www.reddit.com/api/v1/access_token\",\n    profileUrl: \"https://oauth.reddit.com/api/v1/me\",\n    contentType: \"application/x-www-form-urlencoded\",\n};\nexport class RedditOAuth2Provider extends OAuth2Provider {\n    constructor(config) {\n        super({\n            ...defaultConfig,\n            ...config,\n            clientId: config.apiKey,\n            clientSecret: config.apiSecret,\n            headers: {\n                ...config.headers,\n                Authorization: \"Basic \" + Buffer.from(`${config.apiKey}:${config.apiSecret}`).toString(\"base64\"),\n            },\n            authorizationParams: {\n                ...config.authorizationParams,\n                duration: config.duration ?? \"temporary\",\n            },\n        });\n    }\n}\nRedditOAuth2Provider.profileHandler = redditProfileHandler;\n"],"names":[],"mappings":";;;;;;AACA,MAAM,uBAAuB,CAAC,EAAE,aAAa,sBAAsB,eAAe,UAAU,IAAI,SAAS,SAAS,QAAQ,eAAe,oBAAoB,cAAc,UAAU,gBAAgB,eAAe,cAAc,YAAY,aAAa,MAAM,SAAS,aAAa;AAAsB,EACzS;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA,EACA;AAAA;AAEJ,MAAM,gBAAgB;AAAA,EAClB,IAAI;AAAA,EACJ,OAAO;AAAA,EACP,SAAS;AAAA,EACT,kBAAkB;AAAA,EAClB,gBAAgB;AAAA,EAChB,YAAY;AAAA,EACZ,aAAa;AAAA;mCAEyB,eAAe;AAAA,EACrD,YAAY,QAAQ;AAChB,UAAM;AAAA,SACC;AAAA,SACA;AAAA,MACH,UAAU,OAAO;AAAA,MACjB,cAAc,OAAO;AAAA,MACrB,SAAS;AAAA,WACF,OAAO;AAAA,QACV,eAAe,WAAW,OAAO,KAAK,GAAG,OAAO,UAAU,OAAO,aAAa,SAAS;AAAA;AAAA,MAE3F,qBAAqB;AAAA,WACd,OAAO;AAAA,QACV,UAAU,OAAO,YAAY;AAAA;AAAA;AAAA;AAAA;AAK7C,qBAAqB,iBAAiB;;;;"}